{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./csl_theme/src/components/navbar-search/navbar-search.js","webpack:///./csl_theme/src/components/navbar-search/navbar-search.scss?a28a","webpack:///./node_modules/bootstrap-4-autocomplete/dist/bootstrap-4-autocomplete.js"],"names":["$","document","on","e","search","value","ajax","url","root","data","dataType","success","response","autocomplete","source","onSelectItem","item","element","window","location","encodeURIComponent","label","highlightClass","treshold","maximumItems","trigger"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAEAA,CAAC,CAAC,SAASA,CAAT,CAAW,CACTA,CAAC,CAACC,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,CAAwB,sBAAxB,CAAgD,SAASC,CAAT,CAAW,CACvD,GAAIC,OAAM,CAAG,KAAKC,KAAlB,CACAL,CAAC,CAACM,IAAF,CAAO,CACHC,GAAG,CAAEC,IAAI,CAAG,aADT,CAEHC,IAAI,CAAG,CAACL,MAAM,CAAEA,MAAT,CAFJ,CAGHM,QAAQ,CAAG,MAHR,CAIHC,OAAO,CAAG,iBAASC,QAAT,CAAkB,CACxBZ,CAAC,CAAC,sBAAD,CAAD,CAA0Ba,YAA1B,CAAuC,CACnCC,MAAM,CAAEF,QAAQ,CAACH,IADkB,CAEnCM,YAAY,CAAE,sBAASC,IAAT,CAAeC,OAAf,CAAwB,CAClCC,MAAM,CAACC,QAAP,CAAkB,UAAGX,IAAH,sBAA6BY,kBAAkB,CAACJ,IAAI,CAACK,KAAN,CAAjE,CACH,CAJkC,CAKnCC,cAAc,CAAE,aALmB,CAMnCC,QAAQ,CAAE,CANyB,CAOnCC,YAAY,CAAE,EAPqB,CAAvC,EAQGC,OARH,CAQW,OARX,EASH,CAdE,CAAP,EAgBH,CAlBD,EAmBH,CApBA,CAAD,C;;;;;;;;;;;ACFA,uC;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,uBAAuB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC","file":"navbar-search/navbar-search.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../../\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 26);\n","import \"bootstrap-4-autocomplete\";\nimport \"./navbar-search.scss\";\n$(function($){\n    $(document).on(\"input\", '#navbar-search-input', function(e){\n        let search = this.value;\n        $.ajax({\n            url: root + \"/api/search\",\n            data : {search: search},\n            dataType : \"json\",\n            success : function(response){\n                $('#navbar-search-input').autocomplete({\n                    source: response.data,\n                    onSelectItem: function(item, element) {\n                        window.location = `${root}/products?search=` + encodeURIComponent(item.label);\n                    },\n                    highlightClass: 'text-danger',\n                    treshold: 0,\n                    maximumItems: 15\n                }).trigger(\"keyup\");\n            }\n        })\n    })\n})","// extracted by mini-css-extract-plugin","(function ($) {\n    var defaults = {\n        treshold: 4,\n        maximumItems: 5,\n        highlightTyped: true,\n        highlightClass: 'text-primary'\n    };\n    function createItem(lookup, item, opts) {\n        var label;\n        if (opts.highlightTyped) {\n            var idx = item.label.toLowerCase().indexOf(lookup.toLowerCase());\n            label = item.label.substring(0, idx)\n                + '<span class=\"' + expandClassArray(opts.highlightClass) + '\">' + item.label.substring(idx, idx + lookup.length) + '</span>'\n                + item.label.substring(idx + lookup.length, item.label.length);\n        }\n        else {\n            label = item.label;\n        }\n        return '<button type=\"button\" class=\"dropdown-item\" data-value=\"' + item.value + '\">' + label + '</button>';\n    }\n    function expandClassArray(classes) {\n        if (typeof classes == \"string\") {\n            return classes;\n        }\n        if (classes.length == 0) {\n            return '';\n        }\n        var ret = '';\n        for (var _i = 0, classes_1 = classes; _i < classes_1.length; _i++) {\n            var clas = classes_1[_i];\n            ret += clas + ' ';\n        }\n        return ret.substring(0, ret.length - 1);\n    }\n    function createItems(field, opts) {\n        var lookup = field.val();\n        if (lookup.length < opts.treshold) {\n            field.dropdown('hide');\n            return 0;\n        }\n        var items = field.next();\n        items.html('');\n        var count = 0;\n        var keys = Object.keys(opts.source);\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var object = opts.source[key];\n            var item = {\n                label: opts.label ? object[opts.label] : key,\n                value: opts.value ? object[opts.value] : object\n            };\n            if (item.label.toLowerCase().indexOf(lookup.toLowerCase()) >= 0) {\n                items.append(createItem(lookup, item, opts));\n                if (opts.maximumItems > 0 && ++count >= opts.maximumItems) {\n                    break;\n                }\n            }\n        }\n        // option action\n        field.next().find('.dropdown-item').click(function () {\n            field.val($(this).text());\n            if (opts.onSelectItem) {\n                opts.onSelectItem({\n                    value: $(this).data('value'),\n                    label: $(this).text()\n                }, field[0]);\n            }\n        });\n        return items.children().length;\n    }\n    $.fn.autocomplete = function (options) {\n        // merge options with default\n        var opts = {};\n        $.extend(opts, defaults, options);\n        var _field = $(this);\n        // clear previously set autocomplete\n        _field.parent().removeClass('dropdown');\n        _field.removeAttr('data-toggle');\n        _field.removeClass('dropdown-toggle');\n        _field.parent().find('.dropdown-menu').remove();\n        _field.dropdown('dispose');\n        // attach dropdown\n        _field.parent().addClass('dropdown');\n        _field.attr('data-toggle', 'dropdown');\n        _field.addClass('dropdown-toggle');\n        var dropdown = $('<div class=\"dropdown-menu\" ></div>');\n        // attach dropdown class\n        if (opts.dropdownClass)\n            dropdown.addClass(opts.dropdownClass);\n        _field.after(dropdown);\n        _field.dropdown(opts.dropdownOptions);\n        this.off('click.autocomplete').click('click.autocomplete', function (e) {\n            if (createItems(_field, opts) == 0) {\n                // prevent show empty\n                e.stopPropagation();\n                _field.dropdown('hide');\n            }\n            ;\n        });\n        // show options\n        this.off('keyup.autocomplete').keyup('keyup.autocomplete', function () {\n            if (createItems(_field, opts) > 0) {\n                _field.dropdown('show');\n            }\n            else {\n                // sets up positioning\n                _field.click();\n            }\n        });\n        return this;\n    };\n}(jQuery));\n"],"sourceRoot":""}